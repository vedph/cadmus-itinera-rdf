{
  "namedMappings": {
    "event_description": {
      "name": "event_description",
      "description": "Map the description of an event to EVENT crm:P3_has_note LITERAL.",
      "source": "description",
      "sid": "{$sid}/description",
      "output": {
        "triples": ["{?event} crm:P3_has_note \"{$.}\""]
      }
    },
    "event_note": {
      "name": "event_note",
      "description": "Map the note of an event to EVENT crm:P3_has_note LITERAL.",
      "source": "note",
      "sid": "{$sid}/note",
      "output": {
        "triples": ["{?event} crm:P3_has_note \"{$.}\""]
      }
    },
    "event_chronotopes": {
      "name": "event_chronotopes",
      "description": "For each chronotope, map the place/date of an event to triples which create a place node for the place and link it to the event via a triple using crm:P7_took_place_at for places; and to triples using crm:P4_has_time_span which in turn has a new timespan node has object.",
      "source": "chronotopes",
      "sid": "{$sid}/chronotope",
      "children": [
        {
          "name": "event_chronotopes/place",
          "source": "place",
          "output": {
            "nodes": {
              "place": "itn:places/{@value}"
            },
            "triples": [
              "{?place} a crm:E53_Place",
              "{?event} crm:P7_took_place_at {?place}"
            ]
          }
        },
        {
          "name": "event_chronotopes/date",
          "source": "date",
          "output": {
            "metadata": {
              "date_value": "{!_hdate({@.} & value)}",
              "date_text": "{!_hdate({@.} & text)}"
            },
            "nodes": {
              "timespan": "itn:timespans/ts##"
            },
            "triples": [
              "{?event} crm:P4_has_time-span {?timespan}",
              "{?timespan} crm:P82_at_some_time_within \"{$date_value}\"^^xs:float",
              "{?timespan} crm:P87_is_identified_by \"{$date_text}\"@en"
            ]
          }
        }
      ]
    },
    "event_assertion": {
      "name": "event_assertion",
      "description": "Map the assertion of an event to EVENT itn:has_probability RANK^^xsd:float.",
      "source": "assertion",
      "sid": "{$sid}/assertion",
      "output": {
        "nodes": {
          "assertion": "itn:assertions/as##"
        },
        "triples": [
          "{?event} itn:has_probability \"{@rank}\"^^xsd:float",
          "{?assertion} a crm:E13_attribute_assignment",
          "{?assertion} crm:P140_assigned_attribute_to {?event}",
          "{?assertion} crm:P141_assigned itn:has_probability",
          "{?assertion} crm:P177_assigned_property_of_type crm:E55_type"
        ]
      },
      "children": [
        {
          "name": "event_assertion/references",
          "source": "references",
          "sid": "{$sid}/assertion/reference",
          "children": [
            {
              "name": "event/references/citation",
              "source": "citation",
              "output": {
                "nodes": {
                  "citation": "itn:citations/cit##"
                },
                "triples": [
                  "{?citation} a crm:E31_Document",
                  "{?citation} rdfs:label \"{@.}\"",
                  "{?assertion} crm:P70i_is_documented_in {?citation}"
                ]
              }
            }
          ]
        }
      ]
    },
    "event_period": {
      "name": "event_tag",
      "description": "Map the tag of an event to EVENT P9i_forms_part_of GROUP.",
      "source": "tag",
      "sid": "{$sid}/tag",
      "output": {
        "nodes": {
          "period": "itn:periods/{$part-id}/{@value}"
        },
        "triples": ["{?event} P9i_forms_part_of {?period}"]
      }
    }
  },
  "documentMappings": [
    {
      "name": "person",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.metadata",
      "description": "Map a person item to a node via the item's EID extracted from its MetadataPart.",
      "source": "metadata[?name=='eid']",
      "sid": "{$part-id}/{@value}",
      "output": {
        "nodes": {
          "person": "itn:persons/{$part-id}/{@value} [itn:persons/{@value}]"
        },
        "triples": ["{?person} a crm:E21_person"]
      }
    },
    {
      "name": "person_birth_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person birth event",
      "source": "events[?type=='person.birth']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E67_birth",
          "{?event} crm:P2_has_type itn:event-types/person.birth",
          "{?event} crm:P98_brought_into_life {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_birth_event/related/by_mother@eg",
          "source": "relatedEntities[?relation=='person:birth:mother' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "mother": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P96_by_mother {?mother}"]
          }
        },
        {
          "name": "person_birth_event/related/by_mother@el",
          "source": "relatedEntities[?relation=='person:birth:mother' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "mother": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P96_by_mother {?mother}"]
          }
        },
        {
          "name": "person_birth_event/related/by_mother@i",
          "source": "relatedEntities[?relation=='person:birth:mother' && id.target.name]",
          "output": {
            "nodes": {
              "mother": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P96_by_mother {?mother}"]
          }
        },
        {
          "name": "person_birth_event/related/from_father@eg",
          "source": "relatedEntities[?relation=='person:birth:father' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "father": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P97_from_father {?father}"]
          }
        },
        {
          "name": "person_birth_event/related/from_father@el",
          "source": "relatedEntities[?relation=='person:birth:father' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "father": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P97_from_father {?father}"]
          }
        },
        {
          "name": "person_birth_event/related/from_father@i",
          "source": "relatedEntities[?relation=='person:birth:father' && id.target.name]",
          "output": {
            "nodes": {
              "father": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P97_from_father {?father}"]
          }
        }
      ]
    },
    {
      "name": "person_deliver_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person deliver event",
      "source": "events[?type=='person.deliver']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.deliver",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_deliver_event/related/has_participant@eg",
          "source": "relatedEntities[?relation=='person:deliver:sender' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "sender": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?sender}"]
          }
        },
        {
          "name": "person_deliver_event/related/has_participant@el",
          "source": "relatedEntities[?relation=='person:deliver:sender' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "sender": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?sender}"]
          }
        },
        {
          "name": "person_deliver_event/related/has_participant@i",
          "source": "relatedEntities[?relation=='person:deliver:sender' && id.target.name]",
          "output": {
            "nodes": {
              "sender": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?sender}"]
          }
        },
        {
          "name": "person_deliver_event/related/has_participant@eg",
          "source": "relatedEntities[?relation=='person:deliver:recipient' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "recipient": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_deliver_event/related/has_participant@el",
          "source": "relatedEntities[?relation=='person:deliver:recipient' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "recipient": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_deliver_event/related/has_participant@i",
          "source": "relatedEntities[?relation=='person:deliver:recipient' && id.target.name]",
          "output": {
            "nodes": {
              "recipient": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_deliver_event/related/delivered@eg",
          "source": "relatedEntities[?relation=='person:deliver:delivered' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "delivered": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?delivered}"]
          }
        },
        {
          "name": "person_deliver_event/related/delivered@el",
          "source": "relatedEntities[?relation=='person:deliver:delivered' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "delivered": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?delivered}"]
          }
        },
        {
          "name": "person_deliver_event/related/delivered@i",
          "source": "relatedEntities[?relation=='person:deliver:delivered' && id.target.name]",
          "output": {
            "nodes": {
              "delivered": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?delivered}"]
          }
        },
        {
          "name": "person_deliver_event/related/attachment@eg",
          "source": "relatedEntities[?relation=='person:deliver:attachment' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "attachment": "{@slice(id.target.gid, 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_deliver_event/related/attachment@el",
          "source": "relatedEntities[?relation=='person:deliver:attachment' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "attachment": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_deliver_event/related/attachment@i",
          "source": "relatedEntities[?relation=='person:deliver:attachment' && id.target.name]",
          "output": {
            "nodes": {
              "attachment": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        }
      ]
    },
    {
      "name": "person_family_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person family event",
      "source": "events[?type=='person.family']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E74_Group",
          "{?event} crm:P2_has_type itn:event-types/person.family",
          "{?event} crm:P107_has_current_or_former_member {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@eg",
          "source": "relatedEntities[?relation=='person:birth:son' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "son": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P107_has_current_or_former_member {?son}"]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@el",
          "source": "relatedEntities[?relation=='person:birth:son' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "son": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P107_has_current_or_former_member {?son}"]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@i",
          "source": "relatedEntities[?relation=='person:birth:son' && id.target.name]",
          "output": {
            "nodes": {
              "son": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P107_has_current_or_former_member {?son}"]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@eg",
          "source": "relatedEntities[?relation=='person:birth:daughter' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "daughter": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?daughter}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@el",
          "source": "relatedEntities[?relation=='person:birth:daughter' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "daughter": "{@id.target.gid}"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?daughter}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@i",
          "source": "relatedEntities[?relation=='person:birth:daughter' && id.target.name]",
          "output": {
            "nodes": {
              "daughter": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?daughter}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@eg",
          "source": "relatedEntities[?relation=='person:birth:brother' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "brother": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?brother}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@el",
          "source": "relatedEntities[?relation=='person:birth:brother' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "brother": "{@id.target.gid}"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?brother}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@i",
          "source": "relatedEntities[?relation=='person:birth:brother' && id.target.name]",
          "output": {
            "nodes": {
              "brother": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?brother}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@eg",
          "source": "relatedEntities[?relation=='person:birth:sister' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "sister": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?sister}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@el",
          "source": "relatedEntities[?relation=='person:birth:sister' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "sister": "{@id.target.gid}"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?sister}"
            ]
          }
        },
        {
          "name": "person_family_event/related/has_current_or_former_member@i",
          "source": "relatedEntities[?relation=='person:birth:sister' && id.target.name]",
          "output": {
            "nodes": {
              "sister": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": [
              "{?event} crm:P107_has_current_or_former_member {?sister}"
            ]
          }
        }
      ]
    },
    {
      "name": "person_death_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person death event",
      "source": "events[?type=='person.death']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E69_death",
          "{?event} crm:P2_has_type itn:event-types/person.death",
          "{?event} crm:P100_was_death_of {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_marriage_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person marriage event",
      "source": "events[?type=='person.marriage']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E85_joining",
          "{?event} crm:P2_has_type itn:event-types/person.marriage",
          "{?event} crm:P143_joined {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_marriage_event/related/joined@eg",
          "source": "relatedEntities[?relation=='person:marriage:husband' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "husband": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P143_joined {?husband}"]
          }
        },
        {
          "name": "person_marriage_event/related/joined@el",
          "source": "relatedEntities[?relation=='person:marriage:husband' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "husband": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P143_joined {?husband}"]
          }
        },
        {
          "name": "person_marriage_event/related/joined@i",
          "source": "relatedEntities[?relation=='person:marriage:husband' && id.target.name]",
          "output": {
            "nodes": {
              "husband": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P143_joined {?husband}"]
          }
        },
        {
          "name": "person_marriage_event/related/joined@eg",
          "source": "relatedEntities[?relation=='person:marriage:wife' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "wife": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P143_joined {?wife}"]
          }
        },
        {
          "name": "person_marriage_event/related/joined@el",
          "source": "relatedEntities[?relation=='person:marriage:wife' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "wife": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P143_joined {?wife}"]
          }
        },
        {
          "name": "person_marriage_event/related/joined@i",
          "source": "relatedEntities[?relation=='person:marriage:wife' && id.target.name]",
          "output": {
            "nodes": {
              "wife": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P143_joined {?wife}"]
          }
        }
      ]
    },
    {
      "name": "person_job.pope_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.pope event",
      "source": "events[?type=='person.job.pope']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.pope",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.cardinal_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.cardinal event",
      "source": "events[?type=='person.job.cardinal']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.cardinal",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.bishop_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.bishop event",
      "source": "events[?type=='person.job.bishop']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.bishop",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.friar_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.friar event",
      "source": "events[?type=='person.job.friar']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.friar",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.monk_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.monk event",
      "source": "events[?type=='person.job.monk']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.monk",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.prior_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.prior event",
      "source": "events[?type=='person.job.prior']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.prior",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.canon_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.canon event",
      "source": "events[?type=='person.job.canon']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.canon",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.king_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.king event",
      "source": "events[?type=='person.job.king']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.king",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.politician_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.politician event",
      "source": "events[?type=='person.job.politician']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.politician",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.teacher_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.teacher event",
      "source": "events[?type=='person.job.teacher']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.teacher",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.lecturer_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.lecturer event",
      "source": "events[?type=='person.job.lecturer']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.lecturer",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.jurist_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.jurist event",
      "source": "events[?type=='person.job.jurist']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.jurist",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.diplomatic_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.diplomatic event",
      "source": "events[?type=='person.job.diplomatic']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.diplomatic",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.notary_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.notary event",
      "source": "events[?type=='person.job.notary']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.notary",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.military_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.military event",
      "source": "events[?type=='person.job.military']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.military",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.scribe_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.scribe event",
      "source": "events[?type=='person.job.scribe']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.scribe",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.artist_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.artist event",
      "source": "events[?type=='person.job.artist']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.artist",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.musician_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.musician event",
      "source": "events[?type=='person.job.musician']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.musician",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.apprentice_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.apprentice event",
      "source": "events[?type=='person.job.apprentice']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.apprentice",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.counsellor_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.counsellor event",
      "source": "events[?type=='person.job.counsellor']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.counsellor",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.chancellor_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.chancellor event",
      "source": "events[?type=='person.job.chancellor']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.chancellor",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.secretary_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.secretary event",
      "source": "events[?type=='person.job.secretary']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.secretary",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.merchant_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.merchant event",
      "source": "events[?type=='person.job.merchant']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.merchant",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.banker_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.banker event",
      "source": "events[?type=='person.job.banker']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.banker",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.artisan_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.artisan event",
      "source": "events[?type=='person.job.artisan']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.artisan",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.servant_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.servant event",
      "source": "events[?type=='person.job.servant']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.servant",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.emperor_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.emperor event",
      "source": "events[?type=='person.job.emperor']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.emperor",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.physician_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.physician event",
      "source": "events[?type=='person.job.physician']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.physician",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.duke_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.duke event",
      "source": "events[?type=='person.job.duke']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.duke",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.earl_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.earl event",
      "source": "events[?type=='person.job.earl']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.earl",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.knight_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.knight event",
      "source": "events[?type=='person.job.knight']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.knight",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_job.prince_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person job.prince event",
      "source": "events[?type=='person.job.prince']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.job.prince",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_teacher-of_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person teacher-of event",
      "source": "events[?type=='person.teacher-of']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.teacher-of",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_teacher-of_event/related/disciple@eg",
          "source": "relatedEntities[?relation=='person:teacher-of:disciple' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "disciple": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?disciple}"]
          }
        },
        {
          "name": "person_teacher-of_event/related/disciple@el",
          "source": "relatedEntities[?relation=='person:teacher-of:disciple' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "disciple": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?disciple}"]
          }
        },
        {
          "name": "person_teacher-of_event/related/disciple@i",
          "source": "relatedEntities[?relation=='person:teacher-of:disciple' && id.target.name]",
          "output": {
            "nodes": {
              "disciple": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?disciple}"]
          }
        }
      ]
    },
    {
      "name": "person_disciple-of_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person disciple-of event",
      "source": "events[?type=='person.disciple-of']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.disciple-of",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_disciple-of_event/related/teacher@eg",
          "source": "relatedEntities[?relation=='person:disciple-of:teacher' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "teacher": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?teacher}"]
          }
        },
        {
          "name": "person_disciple-of_event/related/teacher@el",
          "source": "relatedEntities[?relation=='person:disciple-of:teacher' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "teacher": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?teacher}"]
          }
        },
        {
          "name": "person_disciple-of_event/related/teacher@i",
          "source": "relatedEntities[?relation=='person:disciple-of:teacher' && id.target.name]",
          "output": {
            "nodes": {
              "teacher": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?teacher}"]
          }
        }
      ]
    },
    {
      "name": "person_counsellor-of_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person counsellor-of event",
      "source": "events[?type=='person.counsellor-of']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.counsellor-of",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_counsellor-of_event/related/person@eg",
          "source": "relatedEntities[?relation=='person:counsellor-of:person' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "person": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_counsellor-of_event/related/person@el",
          "source": "relatedEntities[?relation=='person:counsellor-of:person' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "person": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_counsellor-of_event/related/person@i",
          "source": "relatedEntities[?relation=='person:counsellor-of:person' && id.target.name]",
          "output": {
            "nodes": {
              "person": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        }
      ]
    },
    {
      "name": "person_secretary-of_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person secretary-of event",
      "source": "events[?type=='person.secretary-of']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.secretary-of",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_secretary-of_event/related/person@eg",
          "source": "relatedEntities[?relation=='person:secretary-of:person' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "person": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_secretary-of_event/related/person@el",
          "source": "relatedEntities[?relation=='person:secretary-of:person' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "person": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_secretary-of_event/related/person@i",
          "source": "relatedEntities[?relation=='person:secretary-of:person' && id.target.name]",
          "output": {
            "nodes": {
              "person": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        }
      ]
    },
    {
      "name": "person_servant_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person servant event",
      "source": "events[?type=='person.servant']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.servant",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_servant_event/related/person@eg",
          "source": "relatedEntities[?relation=='person:servant:person' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "person": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_servant_event/related/person@el",
          "source": "relatedEntities[?relation=='person:servant:person' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "person": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_servant_event/related/person@i",
          "source": "relatedEntities[?relation=='person:servant:person' && id.target.name]",
          "output": {
            "nodes": {
              "person": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        }
      ]
    },
    {
      "name": "person_at-service-of_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person at-service-of event",
      "source": "events[?type=='person.at-service-of']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.at-service-of",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_at-service-of_event/related/person@eg",
          "source": "relatedEntities[?relation=='person:at-service-of:person' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "person": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_at-service-of_event/related/person@el",
          "source": "relatedEntities[?relation=='person:at-service-of:person' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "person": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_at-service-of_event/related/person@i",
          "source": "relatedEntities[?relation=='person:at-service-of:person' && id.target.name]",
          "output": {
            "nodes": {
              "person": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        }
      ]
    },
    {
      "name": "person_protector-of_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person protector-of event",
      "source": "events[?type=='person.protector-of']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.protector-of",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_protector-of_event/related/person@eg",
          "source": "relatedEntities[?relation=='person:protector-of:person' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "person": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_protector-of_event/related/person@el",
          "source": "relatedEntities[?relation=='person:protector-of:person' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "person": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        },
        {
          "name": "person_protector-of_event/related/person@i",
          "source": "relatedEntities[?relation=='person:protector-of:person' && id.target.name]",
          "output": {
            "nodes": {
              "person": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?person}"]
          }
        }
      ]
    },
    {
      "name": "person_officer_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person officer event",
      "source": "events[?type=='person.officer']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.officer",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_officer_event/related/office@eg",
          "source": "relatedEntities[?relation=='person:officer:office' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "office": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P2_has_type {?office}"]
          }
        },
        {
          "name": "person_officer_event/related/office@el",
          "source": "relatedEntities[?relation=='person:officer:office' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "office": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P2_has_type {?office}"]
          }
        },
        {
          "name": "person_officer_event/related/office@i",
          "source": "relatedEntities[?relation=='person:officer:office' && id.target.name]",
          "output": {
            "nodes": {
              "office": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P2_has_type {?office}"]
          }
        }
      ]
    },
    {
      "name": "person_title_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person title event",
      "source": "events[?type=='person.title']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.title",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_appointment_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person appointment event",
      "source": "events[?type=='person.appointment']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.appointment",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        }
      ]
    },
    {
      "name": "person_group_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person group event",
      "source": "events[?type=='person.group']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E74_Group",
          "{?event} crm:P107_has_current_or_former_member {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_group_event/related/member-of@eg",
          "source": "relatedEntities[?relation=='person:group:member-of' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "member-of": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": [
              "{?event} crm:P107i_is_current_or_former_member {?member-of}"
            ]
          }
        },
        {
          "name": "person_group_event/related/member-of@el",
          "source": "relatedEntities[?relation=='person:group:member-of' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "member-of": "{@id.target.gid}"
            },
            "triples": [
              "{?event} crm:P107i_is_current_or_former_member {?member-of}"
            ]
          }
        },
        {
          "name": "person_group_event/related/member-of@i",
          "source": "relatedEntities[?relation=='person:group:member-of' && id.target.name]",
          "output": {
            "nodes": {
              "member-of": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": [
              "{?event} crm:P107i_is_current_or_former_member {?member-of}"
            ]
          }
        }
      ]
    },
    {
      "name": "person_meeting_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person meeting event",
      "source": "events[?type=='person.meeting']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E85_Joining",
          "{?event} crm:P2_has_type itn:event-types/person.meeting",
          "{?event} crm:P11_has_participant {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_meeting_event/related/met@eg",
          "source": "relatedEntities[?relation=='person:meeting:met' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "met": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?met}"]
          }
        },
        {
          "name": "person_meeting_event/related/met@el",
          "source": "relatedEntities[?relation=='person:meeting:met' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "met": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?met}"]
          }
        },
        {
          "name": "person_meeting_event/related/met@i",
          "source": "relatedEntities[?relation=='person:meeting:met' && id.target.name]",
          "output": {
            "nodes": {
              "met": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?met}"]
          }
        },
        {
          "name": "person_meeting_event/related/spectator@eg",
          "source": "relatedEntities[?relation=='person:meeting:spectator' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "spectator": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?spectator}"]
          }
        },
        {
          "name": "person_meeting_event/related/spectator@el",
          "source": "relatedEntities[?relation=='person:meeting:spectator' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "spectator": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?spectator}"]
          }
        },
        {
          "name": "person_meeting_event/related/spectator@i",
          "source": "relatedEntities[?relation=='person:meeting:spectator' && id.target.name]",
          "output": {
            "nodes": {
              "spectator": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?spectator}"]
          }
        }
      ]
    },
    {
      "name": "person_travel_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person travel event",
      "source": "events[?type=='person.travel']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E85_Joining",
          "{?event} crm:P2_has_type itn:event-types/person.travel",
          "{?event} crm:P11_has_participant {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_travel_event/related/participant@eg",
          "source": "relatedEntities[?relation=='person:travel:participant' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "participant": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?participant}"]
          }
        },
        {
          "name": "person_travel_event/related/participant@el",
          "source": "relatedEntities[?relation=='person:travel:participant' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "participant": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?participant}"]
          }
        },
        {
          "name": "person_travel_event/related/participant@i",
          "source": "relatedEntities[?relation=='person:travel:participant' && id.target.name]",
          "output": {
            "nodes": {
              "participant": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?participant}"]
          }
        }
      ]
    },
    {
      "name": "person_participation_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person participation event",
      "source": "events[?type=='person.participation']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E85_Joining",
          "{?event} crm:P2_has_type itn:event-types/person.participation",
          "{?event} crm:P11_has_participant {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_participation_event/related/participant@eg",
          "source": "relatedEntities[?relation=='person:participation:participant' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "participant": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?participant}"]
          }
        },
        {
          "name": "person_participation_event/related/participant@el",
          "source": "relatedEntities[?relation=='person:participation:participant' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "participant": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?participant}"]
          }
        },
        {
          "name": "person_participation_event/related/participant@i",
          "source": "relatedEntities[?relation=='person:participation:participant' && id.target.name]",
          "output": {
            "nodes": {
              "participant": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?participant}"]
          }
        }
      ]
    },
    {
      "name": "person_documented_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person documentad event",
      "source": "events[?type=='person.documented']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E70_Thing",
          "{?event} crm:P2_has_type itn:event-types/person.documented",
          "{?event} crm:P70_documents {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_documented_event/related/participant@eg",
          "source": "relatedEntities[?relation=='person:documented:participant' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "participant": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?participant}"]
          }
        },
        {
          "name": "person_documented_event/related/participant@el",
          "source": "relatedEntities[?relation=='person:documented:participant' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "participant": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?participant}"]
          }
        },
        {
          "name": "person_documented_event/related/participant@i",
          "source": "relatedEntities[?relation=='person:documented:participant' && id.target.name]",
          "output": {
            "nodes": {
              "participant": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?participant}"]
          }
        }
      ]
    },
    {
      "name": "person_send_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person send event",
      "source": "events[?type=='person.send']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.send",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_send_event/related/sent@eg",
          "source": "relatedEntities[?relation=='person:send:sent' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "sent": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?sent}"]
          }
        },
        {
          "name": "person_send_event/related/sent@el",
          "source": "relatedEntities[?relation=='person:send:sent' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "sent": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?sent}"]
          }
        },
        {
          "name": "person_send_event/related/sent@i",
          "source": "relatedEntities[?relation=='person:send:sent' && id.target.name]",
          "output": {
            "nodes": {
              "sent": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?sent}"]
          }
        },
        {
          "name": "person_send_event/related/recipient@eg",
          "source": "relatedEntities[?relation=='person:send:recipient' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "recipient": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_send_event/related/recipient@el",
          "source": "relatedEntities[?relation=='person:send:recipient' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "recipient": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_send_event/related/recipient@i",
          "source": "relatedEntities[?relation=='person:send:recipient' && id.target.name]",
          "output": {
            "nodes": {
              "recipient": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_send_event/related/carrier@eg",
          "source": "relatedEntities[?relation=='person:send:carrier' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "carrier": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?carrier}"]
          }
        },
        {
          "name": "person_send_event/related/carrier@el",
          "source": "relatedEntities[?relation=='person:send:carrier' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "carrier": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?carrier}"]
          }
        },
        {
          "name": "person_send_event/related/carrier@i",
          "source": "relatedEntities[?relation=='person:send:carrier' && id.target.name]",
          "output": {
            "nodes": {
              "carrier": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?carrier}"]
          }
        },
        {
          "name": "person_send_event/related/attachment@eg",
          "source": "relatedEntities[?relation=='person:send:attachment' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "attachment": "{@slice(id.target.gid, 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_send_event/related/attachment@el",
          "source": "relatedEntities[?relation=='person:send:attachment' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "attachment": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_send_event/related/attachment@i",
          "source": "relatedEntities[?relation=='person:send:attachment' && id.target.name]",
          "output": {
            "nodes": {
              "attachment": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        }
      ]
    },
    {
      "name": "person_reception_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person reception event",
      "source": "events[?type=='person.reception']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.reception",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_reception_event/related/received@eg",
          "source": "relatedEntities[?relation=='person:reception:received' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "received": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?received}"]
          }
        },
        {
          "name": "person_reception_event/related/received@el",
          "source": "relatedEntities[?relation=='person:reception:received' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "received": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?received}"]
          }
        },
        {
          "name": "person_reception_event/related/received@i",
          "source": "relatedEntities[?relation=='person:reception:received' && id.target.name]",
          "output": {
            "nodes": {
              "received": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?received}"]
          }
        },
        {
          "name": "person_reception_event/related/sender@eg",
          "source": "relatedEntities[?relation=='person:reception:sender' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "sender": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?sender}"]
          }
        },
        {
          "name": "person_reception_event/related/sender@el",
          "source": "relatedEntities[?relation=='person:reception:sender' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "sender": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?sender}"]
          }
        },
        {
          "name": "person_reception_event/related/sender@i",
          "source": "relatedEntities[?relation=='person:reception:sender' && id.target.name]",
          "output": {
            "nodes": {
              "sender": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?sender}"]
          }
        },
        {
          "name": "person_reception_event/related/carrier@eg",
          "source": "relatedEntities[?relation=='person:reception:carrier' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "carrier": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?carrier}"]
          }
        },
        {
          "name": "person_reception_event/related/carrier@el",
          "source": "relatedEntities[?relation=='person:reception:carrier' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "carrier": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?carrier}"]
          }
        },
        {
          "name": "person_reception_event/related/carrier@i",
          "source": "relatedEntities[?relation=='person:reception:carrier' && id.target.name]",
          "output": {
            "nodes": {
              "carrier": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?carrier}"]
          }
        },
        {
          "name": "person_reception_event/related/attachment@eg",
          "source": "relatedEntities[?relation=='person:reception:attachment' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "attachment": "{@slice(id.target.gid, 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_reception_event/related/attachment@el",
          "source": "relatedEntities[?relation=='person:reception:attachment' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "attachment": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_reception_event/related/attachment@i",
          "source": "relatedEntities[?relation=='person:reception:attachment' && id.target.name]",
          "output": {
            "nodes": {
              "attachment": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        }
      ]
    },
    {
      "name": "person_exchange_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person exchange event",
      "source": "events[?type=='person:exchange']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person:exchange",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_exchange_event/related/exchanged@eg",
          "source": "relatedEntities[?relation=='person:exchange:exchanged' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "exchanged": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?exchanged}"]
          }
        },
        {
          "name": "person_exchange_event/related/exchanged@el",
          "source": "relatedEntities[?relation=='person:exchange:exchanged' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "exchanged": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?exchanged}"]
          }
        },
        {
          "name": "person_exchange_event/related/exchanged@i",
          "source": "relatedEntities[?relation=='person:exchange:exchanged' && id.target.name]",
          "output": {
            "nodes": {
              "exchanged": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?exchanged}"]
          }
        },
        {
          "name": "person_exchange_event/related/recipient@eg",
          "source": "relatedEntities[?relation=='person:exchange:recipient' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "recipient": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_exchange_event/related/recipient@el",
          "source": "relatedEntities[?relation=='person:exchange:recipient' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "recipient": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_exchange_event/related/recipient@i",
          "source": "relatedEntities[?relation=='person:exchange:recipient' && id.target.name]",
          "output": {
            "nodes": {
              "recipient": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        }
      ]
    },
    {
      "name": "person_transcription_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person transcription event",
      "source": "events[?type=='person.transcription']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.transcription",
          "{?event} crm:P14_carried_out_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_transcription_event/related/copy@eg",
          "source": "relatedEntities[?relation=='person:transcription:copy' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "copy": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P108_has_produced {?copy}"]
          }
        },
        {
          "name": "person_transcription_event/related/copy@el",
          "source": "relatedEntities[?relation=='person:transcription:copy' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "copy": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P108_has_produced {?copy}"]
          }
        },
        {
          "name": "person_transcription_event/related/copy@i",
          "source": "relatedEntities[?relation=='person:transcription:copy' && id.target.name]",
          "output": {
            "nodes": {
              "copy": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P108_has_produced {?copy}"]
          }
        },
        {
          "name": "person_transcription_event/related/text@eg",
          "source": "relatedEntities[?relation=='person:transcription:text' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "text": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person_transcription_event/related/text@el",
          "source": "relatedEntities[?relation=='person:transcription:text' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "text": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person_transcription_event/related/text@i",
          "source": "relatedEntities[?relation=='person:transcription:text' && id.target.name]",
          "output": {
            "nodes": {
              "text": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        }
      ]
    },
    {
      "name": "person_collection_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person collection event",
      "source": "events[?type=='person.collection']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.collection",
          "{?event} crm:P14_carried_out_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_collection_event/related/copy@eg",
          "source": "relatedEntities[?relation=='person:collection:copy' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "copy": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?copy}"]
          }
        },
        {
          "name": "person_collection_event/related/copy@el",
          "source": "relatedEntities[?relation=='person:collection:copy' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "copy": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?copy}"]
          }
        },
        {
          "name": "person_collection_event/related/copy@i",
          "source": "relatedEntities[?relation=='person:collection:copy' && id.target.name]",
          "output": {
            "nodes": {
              "copy": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?copy}"]
          }
        },
        {
          "name": "person_collection_event/related/text@eg",
          "source": "relatedEntities[?relation=='person:collection:text' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "text": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person_collection_event/related/text@el",
          "source": "relatedEntities[?relation=='person:collection:text' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "text": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person_collection_event/related/text@i",
          "source": "relatedEntities[?relation=='person:collection:text' && id.target.name]",
          "output": {
            "nodes": {
              "text": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        }
      ]
    },
    {
      "name": "person_annotation_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person annotation event",
      "source": "events[?type=='person.annotation']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.annotation",
          "{?event} crm:P14_carried_out_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_annotation_event/related/ms@eg",
          "source": "relatedEntities[?relation=='person:annotation:ms' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "ms": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?ms}"]
          }
        },
        {
          "name": "person_annotation_event/related/ms@el",
          "source": "relatedEntities[?relation=='person:annotation:ms' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "ms": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?ms}"]
          }
        },
        {
          "name": "person_annotation_event/related/ms@i",
          "source": "relatedEntities[?relation=='person:annotation:ms' && id.target.name]",
          "output": {
            "nodes": {
              "ms": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?ms}"]
          }
        },
        {
          "name": "person_annotation_event/related/text@eg",
          "source": "relatedEntities[?relation=='person:annotation:text' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "text": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person_annotation_event/related/text@el",
          "source": "relatedEntities[?relation=='person:annotation:text' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "text": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person_annotation_event/related/text@i",
          "source": "relatedEntities[?relation=='person:annotation:text' && id.target.name]",
          "output": {
            "nodes": {
              "text": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        }
      ]
    },
    {
      "name": "person_handwriting_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person handwriting event",
      "source": "events[?type=='person.handwriting']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.handwriting",
          "{?event} crm:P14_carried_out_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_handwriting_event/related/hand@eg",
          "source": "relatedEntities[?relation=='person:handwriting:hand' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "hand": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?hand}"]
          }
        },
        {
          "name": "person_handwriting_event/related/hand@el",
          "source": "relatedEntities[?relation=='person:handwriting:hand' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "hand": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?hand}"]
          }
        },
        {
          "name": "person_handwriting_event/related/hand (internal",
          "source": "relatedEntities[?relation=='person:handwriting:hand' && id.target.name]",
          "output": {
            "nodes": {
              "hand": "itn:hands/{@id.target.partId}/{@id.target.value} [itn:hands/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P70i_is_documented_in {?hand}"]
          }
        }
      ]
    },
    {
      "name": "person_commission_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person commission event",
      "source": "events[?type=='person.commission']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.commission",
          "{?event} crm:P14_carried_out_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_commission_event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:commission:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person_commission_event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:commission:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person_commission_event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:commission:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person_commission_event/related/maker@eg",
          "source": "relatedEntities[?relation=='person:commission:maker' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "maker": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?maker}"]
          }
        },
        {
          "name": "person_commission_event/related/maker@el",
          "source": "relatedEntities[?relation=='person:commission:maker' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "maker": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?maker}"]
          }
        },
        {
          "name": "person_commission_event/related/maker@i",
          "source": "relatedEntities[?relation=='person:commission:maker' && id.target.name]",
          "output": {
            "nodes": {
              "maker": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?maker}"]
          }
        }
      ]
    },
    {
      "name": "person_commissioned_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person commissioned event",
      "source": "events[?type=='person.commissioned']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.commissioned",
          "{?event} crm:P11_has_participant {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_commissioned_event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:commissioned:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person_commissioned_event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:commissioned:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person_commissioned_event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:commissioned:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person_commissioned_event/related/client@eg",
          "source": "relatedEntities[?relation=='person:commissioned:client' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "client": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P14_carried_out_by {?client}"]
          }
        },
        {
          "name": "person_commissioned_event/related/client@el",
          "source": "relatedEntities[?relation=='person:commissioned:client' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "client": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P14_carried_out_by {?client}"]
          }
        },
        {
          "name": "person_commissioned_event/related/client@i",
          "source": "relatedEntities[?relation=='person:commissioned:client' && id.target.name]",
          "output": {
            "nodes": {
              "client": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P14_carried_out_by {?client}"]
          }
        }
      ]
    },
    {
      "name": "person dedication event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person dedication event",
      "source": "events[?type=='person.dedication']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.dedication",
          "{?event} crm:P14_carried_out_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person dedication event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:dedication:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person dedication event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:dedication:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person dedication event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:dedication:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person dedication event/related/text@eg",
          "source": "relatedEntities[?relation=='person:dedication:text' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "text": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person dedication event/related/text@el",
          "source": "relatedEntities[?relation=='person:dedication:text' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "text": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person dedication event/related/text@i",
          "source": "relatedEntities[?relation=='person:dedication:text' && id.target.name]",
          "output": {
            "nodes": {
              "text": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person dedication event/related/recipient@eg",
          "source": "relatedEntities[?relation=='person:dedication:recipient' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "recipient": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person dedication event/related/recipient@el",
          "source": "relatedEntities[?relation=='person:dedication:recipient' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "recipient": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person dedication event/related/recipient@i",
          "source": "relatedEntities[?relation=='person:dedication:recipient' && id.target.name]",
          "output": {
            "nodes": {
              "recipient": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        }
      ]
    },
    {
      "name": "person dedicated event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person dedicated event",
      "source": "events[?type=='person.dedicated']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.dedicated",
          "{?event} crm:P11_has_participant {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person dedicated event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:dedicated:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person dedicated event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:dedicated:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person dedicated event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:dedicated:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?manuscript}"]
          }
        },
        {
          "name": "person dedicated event/related/text@eg",
          "source": "relatedEntities[?relation=='person:dedicated:text' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "text": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person dedicated event/related/text@el",
          "source": "relatedEntities[?relation=='person:dedicated:text' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "text": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person dedicated event/related/text@i",
          "source": "relatedEntities[?relation=='person:dedicated:text' && id.target.name]",
          "output": {
            "nodes": {
              "text": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?text}"]
          }
        },
        {
          "name": "person dedicated event/related/maker@eg",
          "source": "relatedEntities[?relation=='person:dedicated:maker' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "maker": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P14_carried_out_by {?maker}"]
          }
        },
        {
          "name": "person dedicated event/related/maker@el",
          "source": "relatedEntities[?relation=='person:dedicated:maker' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "maker": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P14_carried_out_by {?maker}"]
          }
        },
        {
          "name": "person dedicated event/related/maker@i",
          "source": "relatedEntities[?relation=='person:dedicated:maker' && id.target.name]",
          "output": {
            "nodes": {
              "maker": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P14_carried_out_by {?maker}"]
          }
        }
      ]
    },
    {
      "name": "person possession event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person possession event",
      "source": "events[?type=='person.possession']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E30_Right",
          "{?event} crm:P75i_is_possessed_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person possession event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:possession:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P104i_applies_to {?manuscript}"]
          }
        }
      ]
    },
    {
      "name": "person borrowing event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person borrowing event",
      "source": "events[?type=='person.borrowing']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E10_Transfer_of_Custody",
          "{?event} crm:P29_custody_received_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person borrowing event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:borrowing:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person borrowing event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:borrowing:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person borrowing event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:borrowing:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person borrowing event/related/lender@eg",
          "source": "relatedEntities[?relation=='person:borrowing:lender' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "lender": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P28_custody_surrendered_by {?lender}"]
          }
        },
        {
          "name": "person borrowing event/related/lender@el",
          "source": "relatedEntities[?relation=='person:borrowing:lender' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "lender": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P28_custody_surrendered_by {?lender}"]
          }
        },
        {
          "name": "person borrowing event/related/lender@i",
          "source": "relatedEntities[?relation=='person:borrowing:lender' && id.target.name]",
          "output": {
            "nodes": {
              "lender": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P28_custody_surrendered_by {?lender}"]
          }
        }
      ]
    },
    {
      "name": "person lending event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person lending event",
      "source": "events[?type=='person.lending']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E10_Transfer_of_Custody",
          "{?event} crm:P28_custody_surrendered_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person lending event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:lending:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person lending event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:lending:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person lending event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:lending:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person lending event/related/borrower@eg",
          "source": "relatedEntities[?relation=='person:lending:borrower' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "borrower": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P29_custody_received_by {?borrower}"]
          }
        },
        {
          "name": "person lending event/related/borrower@el",
          "source": "relatedEntities[?relation=='person:lending:borrower' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "borrower": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P29_custody_received_by {?borrower}"]
          }
        },
        {
          "name": "person lending event/related/borrower@i",
          "source": "relatedEntities[?relation=='person:lending:borrower' && id.target.name]",
          "output": {
            "nodes": {
              "borrower": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P29_custody_received_by {?borrower}"]
          }
        }
      ]
    },
    {
      "name": "person returning event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person returning event",
      "source": "events[?type=='person.returning']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E10_Transfer_of_Custody",
          "{?event} crm:P28_custody_surrendered_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person returning event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:returning:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person returning event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:returning:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person returning event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:returning:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person returning event/related/obtain-restitution@eg",
          "source": "relatedEntities[?relation=='person:returning:obtain-restitution' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "obtain-restitution": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": [
              "{?event} crm:P29_custody_received_by {?obtain-restitution}"
            ]
          }
        },
        {
          "name": "person returning event/related/obtain-restitution@el",
          "source": "relatedEntities[?relation=='person:returning:obtain-restitution' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "obtain-restitution": "{@id.target.gid}"
            },
            "triples": [
              "{?event} crm:P29_custody_received_by {?obtain-restitution}"
            ]
          }
        },
        {
          "name": "person returning event/related/obtain-restitution@i",
          "source": "relatedEntities[?relation=='person:returning:obtain-restitution' && id.target.name]",
          "output": {
            "nodes": {
              "obtain-restitution": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": [
              "{?event} crm:P29_custody_received_by {?obtain-restitution}"
            ]
          }
        }
      ]
    },
    {
      "name": "person obtain-restitution event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person obtain-restitution event",
      "source": "events[?type=='person.obtain-restitution']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E10_Transfer_of_Custody",
          "{?event} crm:P29_custody_received_by {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person obtain-restitution event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:obtain-restitution:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person obtain-restitution event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:obtain-restitution:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person obtain-restitution event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:obtain-restitution:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P30_transferred_custody_of {?manuscript}"]
          }
        },
        {
          "name": "person obtain-restitution event/related/returning@eg",
          "source": "relatedEntities[?relation=='person:obtain-restitution:returning' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "returning": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P28_custody_surrendered_by {?returning}"]
          }
        },
        {
          "name": "person obtain-restitution event/related/returning@el",
          "source": "relatedEntities[?relation=='person:obtain-restitution:returning' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "returning": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P28_custody_surrendered_by {?returning}"]
          }
        },
        {
          "name": "person obtain-restitution event/related/returning@i",
          "source": "relatedEntities[?relation=='person:obtain-restitution:returning' && id.target.name]",
          "output": {
            "nodes": {
              "returning": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P28_custody_surrendered_by {?returning}"]
          }
        }
      ]
    },
    {
      "name": "person buying event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person buying event",
      "source": "events[?type=='person.buying']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E8_Acquisition",
          "{?event} crm:P22_transferred_title_to {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person buying event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:buying:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P24_transferred_title_of {?manuscript}"]
          }
        },
        {
          "name": "person buying event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:buying:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P24_transferred_title_of {?manuscript}"]
          }
        },
        {
          "name": "person buying event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:buying:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P24_transferred_title_of {?manuscript}"]
          }
        },
        {
          "name": "person buying event/related/seller@eg",
          "source": "relatedEntities[?relation=='person:buying:seller' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "seller": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P23_transferred_title_from {?seller}"]
          }
        },
        {
          "name": "person buying event/related/seller@el",
          "source": "relatedEntities[?relation=='person:buying:seller' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "seller": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P23_transferred_title_from {?seller}"]
          }
        },
        {
          "name": "person buying event/related/seller@i",
          "source": "relatedEntities[?relation=='person:buying:seller' && id.target.name]",
          "output": {
            "nodes": {
              "seller": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P23_transferred_title_from {?seller}"]
          }
        }
      ]
    },
    {
      "name": "person selling event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person selling event",
      "source": "events[?type=='person.selling']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E8_Acquisition",
          "{?event} crm:P23_transferred_title_from {$person}"
        ],
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:person/{$item-id}/{$item-eid}"
        }
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person selling event/related/manuscript@eg",
          "source": "relatedEntities[?relation=='person:selling:manuscript' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "manuscript": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P24_transferred_title_of {?manuscript}"]
          }
        },
        {
          "name": "person selling event/related/manuscript@el",
          "source": "relatedEntities[?relation=='person:selling:manuscript' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "manuscript": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P24_transferred_title_of {?manuscript}"]
          }
        },
        {
          "name": "person selling event/related/manuscript@i",
          "source": "relatedEntities[?relation=='person:selling:manuscript' && id.target.name]",
          "output": {
            "nodes": {
              "manuscript": "itn:manuscripts/{@id.target.partId}/{@id.target.value} [itn:manuscripts/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P24_transferred_title_of {?manuscript}"]
          }
        },
        {
          "name": "person selling event/related/buyer@eg",
          "source": "relatedEntities[?relation=='person:selling:buyer' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "buyer": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P22_transferred_title_to {?buyer}"]
          }
        },
        {
          "name": "person selling event/related/buyer@el",
          "source": "relatedEntities[?relation=='person:selling:buyer' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "buyer": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P22_transferred_title_to {?buyer}"]
          }
        },
        {
          "name": "person selling event/related/buyer@i",
          "source": "relatedEntities[?relation=='person:selling:buyer' && id.target.name]",
          "output": {
            "nodes": {
              "buyer": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P22_transferred_title_to {?buyer}"]
          }
        }
      ]
    },
    {
      "name": "person_exchange_event",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.historical-events",
      "description": "Map person exchange event",
      "source": "events[?type=='person.exchange']",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "sid": "{$part-id}/{@eid}",
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "event": "itn:events/{$sid} [itn:events/{@eid}]"
        },
        "triples": [
          "{?event} a crm:E7_Activity",
          "{?event} crm:P2_has_type itn:event-types/person.exchange",
          "{?event} crm:P14_carried_out_by {$person}"
        ]
      },
      "children": [
        {
          "name": "event_description"
        },
        {
          "name": "event_note"
        },
        {
          "name": "event_chronotopes"
        },
        {
          "name": "event_assertion"
        },
        {
          "name": "event_period"
        },
        {
          "name": "person_exchange_event/related/exchanged@eg",
          "source": "relatedEntities[?relation=='person:exchange:exchanged' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "exchanged": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?exchanged}"]
          }
        },
        {
          "name": "person_exchange_event/related/exchanged@el",
          "source": "relatedEntities[?relation=='person:exchange:exchanged' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "exchanged": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?exchanged}"]
          }
        },
        {
          "name": "person_exchange_event/related/exchanged@i",
          "source": "relatedEntities[?relation=='person:exchange:exchanged' && id.target.name]",
          "output": {
            "nodes": {
              "exchanged": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?exchanged}"]
          }
        },
        {
          "name": "person_exchange_event/related/recipient@eg",
          "source": "relatedEntities[?relation=='person:exchange:recipient' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "recipient": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_exchange_event/related/recipient@el",
          "source": "relatedEntities[?relation=='person:exchange:recipient' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "recipient": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_exchange_event/related/recipient@i",
          "source": "relatedEntities[?relation=='person:exchange:recipient' && id.target.name]",
          "output": {
            "nodes": {
              "recipient": "itn:persons/{@id.target.partId}/{@id.target.value} [itn:persons/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P11_has_participant {?recipient}"]
          }
        },
        {
          "name": "person_exchange_event/related/attachment@eg",
          "source": "relatedEntities[?relation=='person:exchange:attachment' && !id.target.name && starts_with(id.target.gid, '@')]",
          "output": {
            "nodes": {
              "attachment": "{!_substring({@id.target.gid} & 1)}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_exchange_event/related/attachment@el",
          "source": "relatedEntities[?relation=='person:exchange:attachment' && !id.target.name && !(starts_with(id.target.gid, '@'))]",
          "output": {
            "nodes": {
              "attachment": "{@id.target.gid}"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        },
        {
          "name": "person_exchange_event/related/attachment@i",
          "source": "relatedEntities[?relation=='person:exchange:attachment' && id.target.name]",
          "output": {
            "nodes": {
              "attachment": "itn:works/{@id.target.partId}/{@id.target.value} [itn:works/{@id.target.value}]"
            },
            "triples": ["{?event} crm:P16_used_specific_object {?attachment}"]
          }
        }
      ]
    },
    {
      "name": "person-work",
      "sourceType": 2,
      "facetFilter": "person",
      "partTypeFilter": "it.vedph.itinera.person-works",
      "description": "Map a person's work item to a work creation event by the container person.",
      "source": "works",
      "sid": "{$part-id}/{@eid}",
      "output": {
        "metadata": {
          "person": "itn:persons/{$metadata-pid}/{$item-eid}"
        },
        "nodes": {
          "creation": "itn:events/creation##",
          "work": "itn:works/{$item-id}/{@eid} itn:works/{@eid}",
          "title": "itn:titles/title##"
        },
        "triples": [
          "{?creation} a crm:E65_creation",
          "{?creation} crm:P94_has_created {?work}",
          "{?creation} crm:P14_carried_out_by {$person}",
          "{?title} a crm:E35_title",
          "{?title} crm:P190_has_symbolic_content \"{@title}\"",
          "{?work} P102_has_title {?title}"
        ]
      },
      "children": [
        {
          "name": "person-work/assertion",
          "description": "Map the assertion of the person's work creation event to EVENT itn:has_probability RANK^^xsd:float.",
          "source": "assertion",
          "output": {
            "nodes": {
              "assertion": "itn:assertions/as##"
            },
            "triples": [
              "{?creation} itn:has_probability \"{@rank}\"^^xsd:float",
              "{?assertion} a crm:E13_attribute_assignment",
              "{?assertion} crm:P140_assigned_attribute_to {?creation}",
              "{?assertion} crm:P141_assigned itn:has_probability",
              "{?assertion} crm:P177_assigned_property_of_type crm:E55_type"
            ]
          },
          "children": [
            {
              "name": "person-work/assertion/references",
              "source": "references",
              "children": [
                {
                  "name": "event/references/citation",
                  "source": "citation",
                  "output": {
                    "nodes": {
                      "citation": "itn:citations/cit##"
                    },
                    "triples": [
                      "{?citation} a crm:E31_Document",
                      "{?citation} rdfs:label \"{@.}\"",
                      "{?assertion} crm:P70i_is_documented_in {?citation}"
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
